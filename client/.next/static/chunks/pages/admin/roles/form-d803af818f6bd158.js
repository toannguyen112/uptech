(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6344],{9694:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/roles/form",function(){return c(408)}])},988:function(a,b,c){"use strict";c.d(b,{i:function(){return k}});var d=c(7568),e=c(4051),f=c.n(e),g=c(7294),h=c(9785),i=c(1163),j=c(5892);function k(a){var b,c=(0,g.useState)(null),e=c[0],k=c[1],l=(0,g.useState)(!1),m=l[0],n=l[1],o=(0,g.useState)(null),p=o[0],q=o[1],r=(0,i.useRouter)(),s=r.query,t=r.isReady,u=new URLSearchParams(s).toString();g.useEffect(function(){t&&v(),j.Z.$on("refreshListData",function(a){v()})},[s,t]);var v=(b=(0,d.Z)(f().mark(function b(){var c,d;return f().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d={"Accept-Language":c=r.locale},b.next=4,h.Z.get("".concat(a,"?")+u,{headers:d}).then(function(a){n(!1),a.data&&k(a.data.data)}).catch(function(a){n(!1),q("An error occurred. Awkward..")});case 4:case"end":return b.stop()}},b)})),function(){return b.apply(this,arguments)});return{data:e,loading:m,error:p}}},408:function(a,b,c){"use strict";c.r(b);var d=c(6042),e=c(9396),f=c(9815),g=c(5893),h=c(7294),i=c(1767),j=c(6498),k=c(901),l=c(7138),m=c(4285),n=c(1772),o=c(988);b.default=function(){var a=(0,h.useState)({}),b=a[0],c=a[1],p=(0,k.Z)("roles",{name:"",permissions:[]}),q=p.loading,r=p.form,s=p.setForm,t={name:"required|string"},u=(0,o.i)("/permissions"),v=u.data;u.error;var w=function(a){var b=(0,f.Z)(r.permissions);a.checked?b.push(a.value):b=b.filter(function(b){return b.id!==a.value.id}),s((0,e.Z)((0,d.Z)({},r),{permissions:b}))};return(0,g.jsx)(l.Z,{children:(0,g.jsxs)(j.Z,{loading:q,rules:t,errors:b,setErrors:function(a){return c(a)},field:{model:"roles",name:"Vai tr\xf2"},data:r,children:[(0,g.jsx)("div",{className:"col-span-7 space-y-[2rem]",children:(0,g.jsx)(m.Z,{loading:q,children:(0,g.jsx)(i.Z,{updateModelValue:function(a){return s((0,e.Z)((0,d.Z)({},r),{name:a}))},modelValue:r.name,field:{required:!0,title:"T\xean vai tr\xf2",placeholder:"T\xean vai tr\xf2",fieldName:"name",rules:t,errors:b}})})}),(0,g.jsx)("div",{className:"col-span-4 space-y-[2rem]",children:(0,g.jsx)(m.Z,{loading:q,children:(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"mb-[12px] font-bold",children:"Danh s\xe1ch quy·ªÅn"}),(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"flex flex-col gap-3",children:v&&v.data.length?v.data.map(function(a){return(0,g.jsxs)("div",{className:"flex align-items-center",children:[(0,g.jsx)(n.X,{inputId:a.id,name:"permission",value:a,onChange:w,checked:r.permissions.some(function(b){return b.id===a.id})}),(0,g.jsx)("label",{htmlFor:a.id,className:"ml-2",children:a.name})]},a.id)}):""})})]})})})]})})}}},function(a){a.O(0,[8173,1460,5465,4599,7138,9810,1767,7601,9774,2888,179],function(){var b;return a(a.s=9694)}),_N_E=a.O()}])